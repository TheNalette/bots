const { Client, GatewayIntentBits } = require('discord.js');

// –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ Discord —Å –Ω—É–∂–Ω—ã–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
const client = new Client({
    intents: [
        GatewayIntentBits.Guilds,
        GatewayIntentBits.GuildMessages,
        GatewayIntentBits.MessageContent,
    ]
});

// –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–∞–≤—Ç—Ä–∞–∫–æ–≤
const breakfasts = [
    "–≤–∫—É—Å–Ω—É—é —è–∏—á–Ω–∏—Ü—É —Å –±–µ–∫–æ–Ω–æ–º",
    "—Å—ã—Ä–Ω–∏–∫–∏ —Å–æ —Å–º–µ—Ç–∞–Ω–æ–π",
    "–æ–≤—Å—è–Ω—É—é –∫–∞—à—É —Å —Ñ—Ä—É–∫—Ç–∞–º–∏",
    "–±–ª–∏–Ω—á–∏–∫–∏ —Å –¥–∂–µ–º–æ–º",
    "–±—É—Ç–µ—Ä–±—Ä–æ–¥—ã —Å –∞–≤–æ–∫–∞–¥–æ",
    "–æ–º–ª–µ—Ç —Å —Å—ã—Ä–æ–º –∏ –ø–æ–º–∏–¥–æ—Ä–∞–º–∏",
    "–π–æ–≥—É—Ä—Ç —Å –±–∞–Ω–∞–Ω–æ–º–∏ –º–µ–¥–æ–º",
    "–≤–∞—Ñ–ª–∏ —Å –∫–ª–µ–Ω–æ–≤—ã–º —Å–∏—Ä–æ–ø–æ–º"
];

// –°–æ–±—ã—Ç–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞
client.once('ready', () => {
    console.log(`–ë–æ—Ç ${client.user.tag} –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!`);
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
client.on('messageCreate', async message => {
    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –±–æ—Ç–æ–≤
    if (message.author.bot) return;

    // –ö–æ–º–∞–Ω–¥–∞ !–∑–∞–≤—Ç—Ä–∞–∫
    if (message.content.startsWith('!–∑–∞–≤—Ç—Ä–∞–∫')) {
        const mentionedUser = message.mentions.users.first();
        if (!mentionedUser) {
            return message.reply('–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –∑–∞–≤—Ç—Ä–∞–∫!');
        }

        const breakfast = breakfasts[Math.floor(Math.random() * breakfasts.length)];
        message.channel.send(`üç≥ ${message.author} –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª(–∞) –¥–ª—è ${mentionedUser} ${breakfast}! –ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∞–ø–ø–µ—Ç–∏—Ç–∞! ‚òïÔ∏è`);
    }

    // –ö–æ–º–∞–Ω–¥–∞ !–¥–æ–±–∞–≤–∏—Ç—å_–∑–∞–≤—Ç—Ä–∞–∫
    if (message.content.startsWith('!–¥–æ–±–∞–≤–∏—Ç—å_–∑–∞–≤—Ç—Ä–∞–∫')) {
        const newBreakfast = message.content.slice('!–¥–æ–±–∞–≤–∏—Ç—å_–∑–∞–≤—Ç—Ä–∞–∫'.length).trim();
        if (newBreakfast) {
            breakfasts.push(newBreakfast);
            message.reply(`‚úÖ –ù–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∑–∞–≤—Ç—Ä–∞–∫–∞ '${newBreakfast}' –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫!`);
        } else {
            message.reply('–£–∫–∞–∂–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤—Ç—Ä–∞–∫–∞!');
        }
    }
});
// –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–±–µ—Ä–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∏–ª–∏ –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
client.login('');
